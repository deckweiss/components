{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "custom-toast",
	"title": "Custom Toast",
	"type": "registry:component",
	"description": "A toast component with custom look.",
	"dependencies": [
		"svelte-sonner",
		"@lucide/svelte"
	],
	"devDependencies": [
		"@lucide/svelte@^0.561.0",
		"tailwind-variants@^1.0.0"
	],
	"registryDependencies": [
		"button"
	],
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { XIcon, LoaderCircle } from \"@lucide/svelte\";\n\timport { Button } from \"$UI$/button\";\n\timport { toast } from \"svelte-sonner\";\n\timport { cn } from \"$UTILS$.js\";\n\timport type { Toast as ToastType } from \"./custom-toast.js\";\n\timport { tv, type VariantProps } from \"tailwind-variants\";\n\n\tinterface Props extends ToastType {\n\t\tdismiss?: () => void;\n\t\tclass?: string;\n\t\tborder?: VariantProps<typeof toastVariants>[\"border\"];\n\t}\n\n\tlet { variant = \"default\", message, action, dismiss, class: className, border }: Props = $props();\n\n\tfunction dismissToast() {\n\t\tif (dismiss) {\n\t\t\tdismiss();\n\t\t} else {\n\t\t\t// Fallback: try to find and remove the toast wrapper\n\t\t\tconst wrapper = document.querySelector(\"[data-sonner-toast]:last-child\");\n\t\t\tif (wrapper) {\n\t\t\t\twrapper.remove();\n\t\t\t} else {\n\t\t\t\ttoast.dismiss();\n\t\t\t}\n\t\t}\n\t}\n\n\texport const toastVariants = tv({\n\t\tbase: \"relative flex min-w-[250px] flex-col gap-4 rounded-lg p-5 md:max-w-[350px]\",\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: \"bg-primary text-white\",\n\t\t\t\tsuccess: \"bg-green-700 text-white\",\n\t\t\t\terror: \"bg-red-700 text-white\",\n\t\t\t\tloading: \"bg-blue-700 text-white\",\n\t\t\t},\n\t\t\tborder: {\n\t\t\t\tnone: \"\",\n\t\t\t\tsm: \"border\",\n\t\t\t\tmd: \"border-2\",\n\t\t\t\tlg: \"border-4\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t\tborder: \"none\",\n\t\t},\n\t});\n\n\texport const closeButtonVariants = tv({\n\t\tbase: \"absolute top-4 right-4 h-6 w-6 rounded-lg bg-white/10 p-1 transition-colors hover:bg-white/20\",\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: \"text-white\",\n\t\t\t\tsuccess: \"text-white\",\n\t\t\t\terror: \"text-white\",\n\t\t\t\tloading: \"text-white\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t});\n\n\texport const overlineVariants = tv({\n\t\tbase: \"text-micro-md font-bold uppercase\",\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: \"text-white/80\",\n\t\t\t\tsuccess: \"text-white/80\",\n\t\t\t\terror: \"text-white/80\",\n\t\t\t\tloading: \"text-white/80\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t});\n\n\texport const messageVariants = tv({\n\t\tbase: \"max-w-[250px] text-sm\",\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: \"text-white\",\n\t\t\t\tsuccess: \"text-white\",\n\t\t\t\terror: \"text-white\",\n\t\t\t\tloading: \"text-white\",\n\t\t\t},\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: \"default\",\n\t\t},\n\t});\n\n\tconst variantOverline = {\n\t\tdefault: \"Info\",\n\t\tsuccess: \"Erfolg\",\n\t\terror: \"Fehler\",\n\t\tloading: \"LÃ¤dt\",\n\t};\n</script>\n\n<div class={cn(toastVariants({ variant, border }), className)}>\n\t<div class=\"flex items-start gap-3\">\n\t\t<div class=\"flex-1\">\n\t\t\t<span class={overlineVariants({ variant })}>\n\t\t\t\t{variantOverline[variant]}\n\t\t\t</span>\n\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t{#if variant === \"loading\"}\n\t\t\t\t\t<LoaderCircle class=\"mt-0.5 h-4 w-4 animate-spin text-white\" />\n\t\t\t\t{/if}\n\t\t\t\t<p class={messageVariants({ variant })}>\n\t\t\t\t\t{message}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"flex gap-2\">\n\t\t{#if action}\n\t\t\t<Button onclick={action.callback}>{action.text}</Button>\n\t\t{/if}\n\t</div>\n\t<button onclick={dismissToast} class={closeButtonVariants({ variant })}>\n\t\t<XIcon size=\"16\" />\n\t</button>\n</div>\n",
			"type": "registry:component",
			"target": "toast.svelte"
		},
		{
			"content": "import { toast } from \"svelte-sonner\";\nimport CustomToastComponent from \"./toast.svelte\";\n\nexport type Toast = {\n\ttype: \"default\" | \"success\" | \"error\" | \"loading\";\n\tmessage: string;\n\taction?: { text: string; callback: () => void };\n};\n\nexport const toaster = {\n\tpushToast: (t: Toast, options?: { duration?: number }) => {\n\t\tconst toastId: number | string = toast.custom(CustomToastComponent, {\n\t\t\tcomponentProps: {\n\t\t\t\t...t,\n\t\t\t\tdismiss: () => toast.dismiss(toastId),\n\t\t\t},\n\t\t\t...options,\n\t\t});\n\t\treturn toastId;\n\t},\n\tdismissToast: (toastId: number | string) => {\n\t\ttoast.dismiss(toastId);\n\t},\n};\n",
			"type": "registry:hook",
			"target": "custom-toast.ts"
		},
		{
			"content": "import Toast from \"./toast.svelte\";\nimport { type Toast as ToastType, toaster } from \"./custom-toast\";\n\nexport { Toast, toaster };\nexport type { ToastType };\n",
			"type": "registry:file",
			"target": "custom-toast/index.ts"
		}
	]
}